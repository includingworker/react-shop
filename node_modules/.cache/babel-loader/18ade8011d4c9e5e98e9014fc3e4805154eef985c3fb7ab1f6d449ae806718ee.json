{"ast":null,"code":"import { __rest } from \"tslib\";\nimport Cookies from 'js-cookie';\nimport { useState } from 'react';\nimport useMemoizedFn from '../useMemoizedFn';\nimport { isFunction, isString } from '../utils';\nfunction useCookieState(cookieKey) {\n  let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const [state, setState] = useState(() => {\n    const cookieValue = Cookies.get(cookieKey);\n    if (isString(cookieValue)) return cookieValue;\n    if (isFunction(options.defaultValue)) {\n      return options.defaultValue();\n    }\n    return options.defaultValue;\n  });\n  const updateState = useMemoizedFn(function (newValue) {\n    let newOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    const _a = Object.assign(Object.assign({}, options), newOptions),\n      {\n        defaultValue\n      } = _a,\n      restOptions = __rest(_a, [\"defaultValue\"]);\n    setState(prevState => {\n      const value = isFunction(newValue) ? newValue(prevState) : newValue;\n      if (value === undefined) {\n        Cookies.remove(cookieKey);\n      } else {\n        Cookies.set(cookieKey, value, restOptions);\n      }\n      return value;\n    });\n  });\n  return [state, updateState];\n}\nexport default useCookieState;","map":{"version":3,"names":["__rest","Cookies","useState","useMemoizedFn","isFunction","isString","useCookieState","cookieKey","options","arguments","length","undefined","state","setState","cookieValue","get","defaultValue","updateState","newValue","newOptions","_a","Object","assign","restOptions","prevState","value","remove","set"],"sources":["/Users/mac/node_modules/ahooks/es/useCookieState/index.js"],"sourcesContent":["import { __rest } from \"tslib\";\nimport Cookies from 'js-cookie';\nimport { useState } from 'react';\nimport useMemoizedFn from '../useMemoizedFn';\nimport { isFunction, isString } from '../utils';\nfunction useCookieState(cookieKey, options = {}) {\n  const [state, setState] = useState(() => {\n    const cookieValue = Cookies.get(cookieKey);\n    if (isString(cookieValue)) return cookieValue;\n    if (isFunction(options.defaultValue)) {\n      return options.defaultValue();\n    }\n    return options.defaultValue;\n  });\n  const updateState = useMemoizedFn((newValue, newOptions = {}) => {\n    const _a = Object.assign(Object.assign({}, options), newOptions),\n      {\n        defaultValue\n      } = _a,\n      restOptions = __rest(_a, [\"defaultValue\"]);\n    setState(prevState => {\n      const value = isFunction(newValue) ? newValue(prevState) : newValue;\n      if (value === undefined) {\n        Cookies.remove(cookieKey);\n      } else {\n        Cookies.set(cookieKey, value, restOptions);\n      }\n      return value;\n    });\n  });\n  return [state, updateState];\n}\nexport default useCookieState;"],"mappings":"AAAA,SAASA,MAAM,QAAQ,OAAO;AAC9B,OAAOC,OAAO,MAAM,WAAW;AAC/B,SAASC,QAAQ,QAAQ,OAAO;AAChC,OAAOC,aAAa,MAAM,kBAAkB;AAC5C,SAASC,UAAU,EAAEC,QAAQ,QAAQ,UAAU;AAC/C,SAASC,cAAcA,CAACC,SAAS,EAAgB;EAAA,IAAdC,OAAO,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;EAC7C,MAAM,CAACG,KAAK,EAAEC,QAAQ,CAAC,GAAGX,QAAQ,CAAC,MAAM;IACvC,MAAMY,WAAW,GAAGb,OAAO,CAACc,GAAG,CAACR,SAAS,CAAC;IAC1C,IAAIF,QAAQ,CAACS,WAAW,CAAC,EAAE,OAAOA,WAAW;IAC7C,IAAIV,UAAU,CAACI,OAAO,CAACQ,YAAY,CAAC,EAAE;MACpC,OAAOR,OAAO,CAACQ,YAAY,EAAE;IAC/B;IACA,OAAOR,OAAO,CAACQ,YAAY;EAC7B,CAAC,CAAC;EACF,MAAMC,WAAW,GAAGd,aAAa,CAAC,UAACe,QAAQ,EAAsB;IAAA,IAApBC,UAAU,GAAAV,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;IAC1D,MAAMW,EAAE,GAAGC,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEd,OAAO,CAAC,EAAEW,UAAU,CAAC;MAC9D;QACEH;MACF,CAAC,GAAGI,EAAE;MACNG,WAAW,GAAGvB,MAAM,CAACoB,EAAE,EAAE,CAAC,cAAc,CAAC,CAAC;IAC5CP,QAAQ,CAACW,SAAS,IAAI;MACpB,MAAMC,KAAK,GAAGrB,UAAU,CAACc,QAAQ,CAAC,GAAGA,QAAQ,CAACM,SAAS,CAAC,GAAGN,QAAQ;MACnE,IAAIO,KAAK,KAAKd,SAAS,EAAE;QACvBV,OAAO,CAACyB,MAAM,CAACnB,SAAS,CAAC;MAC3B,CAAC,MAAM;QACLN,OAAO,CAAC0B,GAAG,CAACpB,SAAS,EAAEkB,KAAK,EAAEF,WAAW,CAAC;MAC5C;MACA,OAAOE,KAAK;IACd,CAAC,CAAC;EACJ,CAAC,CAAC;EACF,OAAO,CAACb,KAAK,EAAEK,WAAW,CAAC;AAC7B;AACA,eAAeX,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}