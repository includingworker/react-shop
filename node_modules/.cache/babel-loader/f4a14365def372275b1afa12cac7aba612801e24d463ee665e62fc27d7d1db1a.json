{"ast":null,"code":"import _slicedToArray from\"/Users/mac/Documents/store/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{useSelector,useDispatch}from\"react-redux\";import{selectSortFilter,setSort}from\"../redux/filterSlice\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var list=[{name:\"Начать с новинок\",sortProperty:\"date\"},{name:\"По рейтингу\",sortProperty:\"rating\"},{name:\"От дешёвых к дорогим\",sortProperty:\"-price\"},{name:\"От дорогих к дешёвым\",sortProperty:\"price\"}];export function Filters(){var dispatch=useDispatch();var sort=useSelector(selectSortFilter);var sortRef=React.useRef();var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),open=_React$useState2[0],setOpen=_React$useState2[1];var onClickListItem=function onClickListItem(obj){dispatch(setSort(obj));setOpen(false);};React.useEffect(function(){var handleClickOutside=function handleClickOutside(event){var path=event.composedPath().includes(sortRef.current);if(!path)setOpen(false);};document.body.addEventListener(\"click\",handleClickOutside);return function(){return document.body.removeEventListener(\"click\",handleClickOutside);};},[]);return/*#__PURE__*/_jsxs(\"div\",{ref:sortRef,className:\"filters\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"content__slider\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"color\",children:/*#__PURE__*/_jsxs(\"button\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u0426\\u0432\\u0435\\u0442\"}),/*#__PURE__*/_jsx(\"img\",{src:\"./img/arrow__down.svg\",width:15,height:15,alt:\"Arrow Down\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"filters__content__right\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"14 \\u0432\\u0435\\u0449\\u0435\\u0439\"}),/*#__PURE__*/_jsx(\"div\",{className:\"strip\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"sorting\",children:[/*#__PURE__*/_jsx(\"span\",{onClick:function onClick(){return setOpen(!open);},children:sort.name}),/*#__PURE__*/_jsx(\"img\",{src:\"./img/arrow__down.svg\",width:15,height:15,alt:\"Arrow Down\"})]})]})]}),open&&/*#__PURE__*/_jsx(\"div\",{className:\"sorting_down\",children:/*#__PURE__*/_jsx(\"ul\",{children:list.map(function(obj,i){return/*#__PURE__*/_jsx(\"li\",{onClick:function onClick(){return onClickListItem(obj);},className:sort.sortProperty===obj.sortProperty?\"active1\":\"\",children:obj.name},i);})})})]});}","map":{"version":3,"names":["React","useSelector","useDispatch","selectSortFilter","setSort","jsx","_jsx","jsxs","_jsxs","list","name","sortProperty","Filters","dispatch","sort","sortRef","useRef","_React$useState","useState","_React$useState2","_slicedToArray","open","setOpen","onClickListItem","obj","useEffect","handleClickOutside","event","path","composedPath","includes","current","document","body","addEventListener","removeEventListener","ref","className","children","src","width","height","alt","onClick","map","i"],"sources":["/Users/mac/Documents/store/my-app/src/components/Filters.jsx"],"sourcesContent":["import React from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { selectSortFilter, setSort } from \"../redux/filterSlice\";\n\nexport const list = [\n  { name: \"Начать с новинок\", sortProperty: \"date\" },\n  { name: \"По рейтингу\", sortProperty: \"rating\" },\n  { name: \"От дешёвых к дорогим\", sortProperty: \"-price\" },\n  { name: \"От дорогих к дешёвым\", sortProperty: \"price\" },\n];\n\nexport function Filters() {\n  const dispatch = useDispatch();\n  const sort = useSelector(selectSortFilter);\n  const sortRef = React.useRef();\n\n  const [open, setOpen] = React.useState(false);\n\n  const onClickListItem = (obj) => {\n    dispatch(setSort(obj));\n    setOpen(false);\n  };\n\n  React.useEffect(() => {\n    const handleClickOutside = (event) => {\n      let path = event.composedPath().includes(sortRef.current);\n      if (!path) setOpen(false);\n    };\n\n    document.body.addEventListener(\"click\", handleClickOutside);\n\n    return () => document.body.removeEventListener(\"click\", handleClickOutside);\n  }, []);\n\n  return (\n    <div ref={sortRef} className=\"filters\">\n      <div className=\"content__slider\">\n        <div className=\"color\">\n          <button>\n            <span>Цвет</span>\n            <img\n              src=\"./img/arrow__down.svg\"\n              width={15}\n              height={15}\n              alt=\"Arrow Down\"></img>\n          </button>\n        </div>\n        <div className=\"filters__content__right\">\n          <p>14 вещей</p>\n          <div className=\"strip\"></div>\n          <div className=\"sorting\">\n            <span onClick={() => setOpen(!open)}>{sort.name}</span>\n            <img\n              src=\"./img/arrow__down.svg\"\n              width={15}\n              height={15}\n              alt=\"Arrow Down\"></img>\n          </div>\n        </div>\n      </div>\n      {open && (\n        <div className=\"sorting_down\">\n          <ul>\n            {list.map((obj, i) => (\n              <li\n                key={i}\n                onClick={() => onClickListItem(obj)}\n                className={\n                  sort.sortProperty === obj.sortProperty ? \"active1\" : \"\"\n                }>\n                {obj.name}\n              </li>\n            ))}\n          </ul>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}