{"ast":null,"code":"import { __rest } from \"tslib\";\nimport { useEffect, useRef, useState } from 'react';\nimport useMemoizedFn from '../useMemoizedFn';\nimport usePagination from '../usePagination';\nimport useUpdateEffect from '../useUpdateEffect';\nconst useAntdTable = function (service) {\n  let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _a;\n  const {\n      form,\n      defaultType = 'simple',\n      defaultParams,\n      manual = false,\n      refreshDeps = [],\n      ready = true\n    } = options,\n    rest = __rest(options, [\"form\", \"defaultType\", \"defaultParams\", \"manual\", \"refreshDeps\", \"ready\"]);\n  const result = usePagination(service, Object.assign({\n    manual: true\n  }, rest));\n  const {\n    params = [],\n    run\n  } = result;\n  const cacheFormTableData = params[2] || {};\n  const [type, setType] = useState((cacheFormTableData === null || cacheFormTableData === void 0 ? void 0 : cacheFormTableData.type) || defaultType);\n  const allFormDataRef = useRef({});\n  const defaultDataSourceRef = useRef([]);\n  const isAntdV4 = !!(form === null || form === void 0 ? void 0 : form.getInternalHooks);\n  // get current active field values\n  const getActiveFieldValues = () => {\n    if (!form) {\n      return {};\n    }\n    // antd 4\n    if (isAntdV4) {\n      return form.getFieldsValue(null, () => true);\n    }\n    // antd 3\n    const allFieldsValue = form.getFieldsValue();\n    const activeFieldsValue = {};\n    Object.keys(allFieldsValue).forEach(key => {\n      if (form.getFieldInstance ? form.getFieldInstance(key) : true) {\n        activeFieldsValue[key] = allFieldsValue[key];\n      }\n    });\n    return activeFieldsValue;\n  };\n  const validateFields = () => {\n    if (!form) {\n      return Promise.resolve({});\n    }\n    const activeFieldsValue = getActiveFieldValues();\n    const fields = Object.keys(activeFieldsValue);\n    // antd 4\n    if (isAntdV4) {\n      return form.validateFields(fields);\n    }\n    // antd 3\n    return new Promise((resolve, reject) => {\n      form.validateFields(fields, (errors, values) => {\n        if (errors) {\n          reject(errors);\n        } else {\n          resolve(values);\n        }\n      });\n    });\n  };\n  const restoreForm = () => {\n    if (!form) {\n      return;\n    }\n    // antd v4\n    if (isAntdV4) {\n      return form.setFieldsValue(allFormDataRef.current);\n    }\n    // antd v3\n    const activeFieldsValue = {};\n    Object.keys(allFormDataRef.current).forEach(key => {\n      if (form.getFieldInstance ? form.getFieldInstance(key) : true) {\n        activeFieldsValue[key] = allFormDataRef.current[key];\n      }\n    });\n    form.setFieldsValue(activeFieldsValue);\n  };\n  const changeType = () => {\n    const activeFieldsValue = getActiveFieldValues();\n    allFormDataRef.current = Object.assign(Object.assign({}, allFormDataRef.current), activeFieldsValue);\n    setType(t => t === 'simple' ? 'advance' : 'simple');\n  };\n  const _submit = initPagination => {\n    if (!ready) {\n      return;\n    }\n    setTimeout(() => {\n      validateFields().then(function () {\n        let values = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        const pagination = initPagination || Object.assign(Object.assign({\n          pageSize: options.defaultPageSize || 10\n        }, (params === null || params === void 0 ? void 0 : params[0]) || {}), {\n          current: 1\n        });\n        if (!form) {\n          // @ts-ignore\n          run(pagination);\n          return;\n        }\n        // record all form data\n        allFormDataRef.current = Object.assign(Object.assign({}, allFormDataRef.current), values);\n        // @ts-ignore\n        run(pagination, values, {\n          allFormData: allFormDataRef.current,\n          type\n        });\n      }).catch(err => err);\n    });\n  };\n  const reset = () => {\n    if (form) {\n      form.resetFields();\n    }\n    _submit();\n  };\n  const submit = e => {\n    var _a;\n    (_a = e === null || e === void 0 ? void 0 : e.preventDefault) === null || _a === void 0 ? void 0 : _a.call(e);\n    _submit();\n  };\n  const onTableChange = (pagination, filters, sorter, extra) => {\n    const [oldPaginationParams, ...restParams] = params || [];\n    run(Object.assign(Object.assign({}, oldPaginationParams), {\n      current: pagination.current,\n      pageSize: pagination.pageSize,\n      filters,\n      sorter,\n      extra\n    }), ...restParams);\n  };\n  // init\n  useEffect(() => {\n    // if has cache, use cached params. ignore manual and ready.\n    if (params.length > 0) {\n      allFormDataRef.current = (cacheFormTableData === null || cacheFormTableData === void 0 ? void 0 : cacheFormTableData.allFormData) || {};\n      restoreForm();\n      // @ts-ignore\n      run(...params);\n      return;\n    }\n    if (!manual && ready) {\n      allFormDataRef.current = (defaultParams === null || defaultParams === void 0 ? void 0 : defaultParams[1]) || {};\n      restoreForm();\n      _submit(defaultParams === null || defaultParams === void 0 ? void 0 : defaultParams[0]);\n    }\n  }, []);\n  // change search type, restore form data\n  useUpdateEffect(() => {\n    if (!ready) {\n      return;\n    }\n    restoreForm();\n  }, [type]);\n  // refresh & ready change on the same time\n  const hasAutoRun = useRef(false);\n  hasAutoRun.current = false;\n  useUpdateEffect(() => {\n    if (!manual && ready) {\n      hasAutoRun.current = true;\n      if (form) {\n        form.resetFields();\n      }\n      allFormDataRef.current = (defaultParams === null || defaultParams === void 0 ? void 0 : defaultParams[1]) || {};\n      restoreForm();\n      _submit(defaultParams === null || defaultParams === void 0 ? void 0 : defaultParams[0]);\n    }\n  }, [ready]);\n  useUpdateEffect(() => {\n    if (hasAutoRun.current) {\n      return;\n    }\n    if (!ready) {\n      return;\n    }\n    if (!manual) {\n      hasAutoRun.current = true;\n      result.pagination.changeCurrent(1);\n    }\n  }, [...refreshDeps]);\n  return Object.assign(Object.assign({}, result), {\n    tableProps: {\n      dataSource: ((_a = result.data) === null || _a === void 0 ? void 0 : _a.list) || defaultDataSourceRef.current,\n      loading: result.loading,\n      onChange: useMemoizedFn(onTableChange),\n      pagination: {\n        current: result.pagination.current,\n        pageSize: result.pagination.pageSize,\n        total: result.pagination.total\n      }\n    },\n    search: {\n      submit: useMemoizedFn(submit),\n      type,\n      changeType: useMemoizedFn(changeType),\n      reset: useMemoizedFn(reset)\n    }\n  });\n};\nexport default useAntdTable;","map":{"version":3,"names":["__rest","useEffect","useRef","useState","useMemoizedFn","usePagination","useUpdateEffect","useAntdTable","service","options","arguments","length","undefined","_a","form","defaultType","defaultParams","manual","refreshDeps","ready","rest","result","Object","assign","params","run","cacheFormTableData","type","setType","allFormDataRef","defaultDataSourceRef","isAntdV4","getInternalHooks","getActiveFieldValues","getFieldsValue","allFieldsValue","activeFieldsValue","keys","forEach","key","getFieldInstance","validateFields","Promise","resolve","fields","reject","errors","values","restoreForm","setFieldsValue","current","changeType","t","_submit","initPagination","setTimeout","then","pagination","pageSize","defaultPageSize","allFormData","catch","err","reset","resetFields","submit","e","preventDefault","call","onTableChange","filters","sorter","extra","oldPaginationParams","restParams","hasAutoRun","changeCurrent","tableProps","dataSource","data","list","loading","onChange","total","search"],"sources":["/Users/mac/node_modules/ahooks/es/useAntdTable/index.js"],"sourcesContent":["import { __rest } from \"tslib\";\nimport { useEffect, useRef, useState } from 'react';\nimport useMemoizedFn from '../useMemoizedFn';\nimport usePagination from '../usePagination';\nimport useUpdateEffect from '../useUpdateEffect';\nconst useAntdTable = (service, options = {}) => {\n  var _a;\n  const {\n      form,\n      defaultType = 'simple',\n      defaultParams,\n      manual = false,\n      refreshDeps = [],\n      ready = true\n    } = options,\n    rest = __rest(options, [\"form\", \"defaultType\", \"defaultParams\", \"manual\", \"refreshDeps\", \"ready\"]);\n  const result = usePagination(service, Object.assign({\n    manual: true\n  }, rest));\n  const {\n    params = [],\n    run\n  } = result;\n  const cacheFormTableData = params[2] || {};\n  const [type, setType] = useState((cacheFormTableData === null || cacheFormTableData === void 0 ? void 0 : cacheFormTableData.type) || defaultType);\n  const allFormDataRef = useRef({});\n  const defaultDataSourceRef = useRef([]);\n  const isAntdV4 = !!(form === null || form === void 0 ? void 0 : form.getInternalHooks);\n  // get current active field values\n  const getActiveFieldValues = () => {\n    if (!form) {\n      return {};\n    }\n    // antd 4\n    if (isAntdV4) {\n      return form.getFieldsValue(null, () => true);\n    }\n    // antd 3\n    const allFieldsValue = form.getFieldsValue();\n    const activeFieldsValue = {};\n    Object.keys(allFieldsValue).forEach(key => {\n      if (form.getFieldInstance ? form.getFieldInstance(key) : true) {\n        activeFieldsValue[key] = allFieldsValue[key];\n      }\n    });\n    return activeFieldsValue;\n  };\n  const validateFields = () => {\n    if (!form) {\n      return Promise.resolve({});\n    }\n    const activeFieldsValue = getActiveFieldValues();\n    const fields = Object.keys(activeFieldsValue);\n    // antd 4\n    if (isAntdV4) {\n      return form.validateFields(fields);\n    }\n    // antd 3\n    return new Promise((resolve, reject) => {\n      form.validateFields(fields, (errors, values) => {\n        if (errors) {\n          reject(errors);\n        } else {\n          resolve(values);\n        }\n      });\n    });\n  };\n  const restoreForm = () => {\n    if (!form) {\n      return;\n    }\n    // antd v4\n    if (isAntdV4) {\n      return form.setFieldsValue(allFormDataRef.current);\n    }\n    // antd v3\n    const activeFieldsValue = {};\n    Object.keys(allFormDataRef.current).forEach(key => {\n      if (form.getFieldInstance ? form.getFieldInstance(key) : true) {\n        activeFieldsValue[key] = allFormDataRef.current[key];\n      }\n    });\n    form.setFieldsValue(activeFieldsValue);\n  };\n  const changeType = () => {\n    const activeFieldsValue = getActiveFieldValues();\n    allFormDataRef.current = Object.assign(Object.assign({}, allFormDataRef.current), activeFieldsValue);\n    setType(t => t === 'simple' ? 'advance' : 'simple');\n  };\n  const _submit = initPagination => {\n    if (!ready) {\n      return;\n    }\n    setTimeout(() => {\n      validateFields().then((values = {}) => {\n        const pagination = initPagination || Object.assign(Object.assign({\n          pageSize: options.defaultPageSize || 10\n        }, (params === null || params === void 0 ? void 0 : params[0]) || {}), {\n          current: 1\n        });\n        if (!form) {\n          // @ts-ignore\n          run(pagination);\n          return;\n        }\n        // record all form data\n        allFormDataRef.current = Object.assign(Object.assign({}, allFormDataRef.current), values);\n        // @ts-ignore\n        run(pagination, values, {\n          allFormData: allFormDataRef.current,\n          type\n        });\n      }).catch(err => err);\n    });\n  };\n  const reset = () => {\n    if (form) {\n      form.resetFields();\n    }\n    _submit();\n  };\n  const submit = e => {\n    var _a;\n    (_a = e === null || e === void 0 ? void 0 : e.preventDefault) === null || _a === void 0 ? void 0 : _a.call(e);\n    _submit();\n  };\n  const onTableChange = (pagination, filters, sorter, extra) => {\n    const [oldPaginationParams, ...restParams] = params || [];\n    run(Object.assign(Object.assign({}, oldPaginationParams), {\n      current: pagination.current,\n      pageSize: pagination.pageSize,\n      filters,\n      sorter,\n      extra\n    }), ...restParams);\n  };\n  // init\n  useEffect(() => {\n    // if has cache, use cached params. ignore manual and ready.\n    if (params.length > 0) {\n      allFormDataRef.current = (cacheFormTableData === null || cacheFormTableData === void 0 ? void 0 : cacheFormTableData.allFormData) || {};\n      restoreForm();\n      // @ts-ignore\n      run(...params);\n      return;\n    }\n    if (!manual && ready) {\n      allFormDataRef.current = (defaultParams === null || defaultParams === void 0 ? void 0 : defaultParams[1]) || {};\n      restoreForm();\n      _submit(defaultParams === null || defaultParams === void 0 ? void 0 : defaultParams[0]);\n    }\n  }, []);\n  // change search type, restore form data\n  useUpdateEffect(() => {\n    if (!ready) {\n      return;\n    }\n    restoreForm();\n  }, [type]);\n  // refresh & ready change on the same time\n  const hasAutoRun = useRef(false);\n  hasAutoRun.current = false;\n  useUpdateEffect(() => {\n    if (!manual && ready) {\n      hasAutoRun.current = true;\n      if (form) {\n        form.resetFields();\n      }\n      allFormDataRef.current = (defaultParams === null || defaultParams === void 0 ? void 0 : defaultParams[1]) || {};\n      restoreForm();\n      _submit(defaultParams === null || defaultParams === void 0 ? void 0 : defaultParams[0]);\n    }\n  }, [ready]);\n  useUpdateEffect(() => {\n    if (hasAutoRun.current) {\n      return;\n    }\n    if (!ready) {\n      return;\n    }\n    if (!manual) {\n      hasAutoRun.current = true;\n      result.pagination.changeCurrent(1);\n    }\n  }, [...refreshDeps]);\n  return Object.assign(Object.assign({}, result), {\n    tableProps: {\n      dataSource: ((_a = result.data) === null || _a === void 0 ? void 0 : _a.list) || defaultDataSourceRef.current,\n      loading: result.loading,\n      onChange: useMemoizedFn(onTableChange),\n      pagination: {\n        current: result.pagination.current,\n        pageSize: result.pagination.pageSize,\n        total: result.pagination.total\n      }\n    },\n    search: {\n      submit: useMemoizedFn(submit),\n      type,\n      changeType: useMemoizedFn(changeType),\n      reset: useMemoizedFn(reset)\n    }\n  });\n};\nexport default useAntdTable;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}