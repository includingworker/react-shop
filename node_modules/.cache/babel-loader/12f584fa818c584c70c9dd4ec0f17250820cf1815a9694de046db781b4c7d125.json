{"ast":null,"code":"import isEqual from 'lodash/isEqual';\nimport { useRef } from 'react';\nimport useEffectWithTarget from './useEffectWithTarget';\nconst depsEqual = function (aDeps) {\n  let bDeps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return isEqual(aDeps, bDeps);\n};\nconst useDeepCompareEffectWithTarget = (effect, deps, target) => {\n  const ref = useRef();\n  const signalRef = useRef(0);\n  if (!depsEqual(deps, ref.current)) {\n    ref.current = deps;\n    signalRef.current += 1;\n  }\n  useEffectWithTarget(effect, [signalRef.current], target);\n};\nexport default useDeepCompareEffectWithTarget;","map":{"version":3,"names":["isEqual","useRef","useEffectWithTarget","depsEqual","aDeps","bDeps","arguments","length","undefined","useDeepCompareEffectWithTarget","effect","deps","target","ref","signalRef","current"],"sources":["/Users/mac/Documents/store/my-app/node_modules/ahooks/es/utils/useDeepCompareWithTarget.js"],"sourcesContent":["import isEqual from 'lodash/isEqual';\nimport { useRef } from 'react';\nimport useEffectWithTarget from './useEffectWithTarget';\nconst depsEqual = (aDeps, bDeps = []) => {\n  return isEqual(aDeps, bDeps);\n};\nconst useDeepCompareEffectWithTarget = (effect, deps, target) => {\n  const ref = useRef();\n  const signalRef = useRef(0);\n  if (!depsEqual(deps, ref.current)) {\n    ref.current = deps;\n    signalRef.current += 1;\n  }\n  useEffectWithTarget(effect, [signalRef.current], target);\n};\nexport default useDeepCompareEffectWithTarget;"],"mappings":"AAAA,OAAOA,OAAO,MAAM,gBAAgB;AACpC,SAASC,MAAM,QAAQ,OAAO;AAC9B,OAAOC,mBAAmB,MAAM,uBAAuB;AACvD,MAAMC,SAAS,GAAG,SAAAA,CAACC,KAAK,EAAiB;EAAA,IAAfC,KAAK,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,EAAE;EAClC,OAAON,OAAO,CAACI,KAAK,EAAEC,KAAK,CAAC;AAC9B,CAAC;AACD,MAAMI,8BAA8B,GAAGA,CAACC,MAAM,EAAEC,IAAI,EAAEC,MAAM,KAAK;EAC/D,MAAMC,GAAG,GAAGZ,MAAM,EAAE;EACpB,MAAMa,SAAS,GAAGb,MAAM,CAAC,CAAC,CAAC;EAC3B,IAAI,CAACE,SAAS,CAACQ,IAAI,EAAEE,GAAG,CAACE,OAAO,CAAC,EAAE;IACjCF,GAAG,CAACE,OAAO,GAAGJ,IAAI;IAClBG,SAAS,CAACC,OAAO,IAAI,CAAC;EACxB;EACAb,mBAAmB,CAACQ,MAAM,EAAE,CAACI,SAAS,CAACC,OAAO,CAAC,EAAEH,MAAM,CAAC;AAC1D,CAAC;AACD,eAAeH,8BAA8B"},"metadata":{},"sourceType":"module","externalDependencies":[]}