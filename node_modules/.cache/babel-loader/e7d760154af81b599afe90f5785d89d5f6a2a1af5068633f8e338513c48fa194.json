{"ast":null,"code":"import { getTargetElement } from '../utils/domTarget';\nimport useDeepCompareEffectWithTarget from '../utils/useDeepCompareWithTarget';\nimport useLatest from '../useLatest';\nconst useMutationObserver = function (callback, target) {\n  let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  const callbackRef = useLatest(callback);\n  useDeepCompareEffectWithTarget(() => {\n    const element = getTargetElement(target);\n    if (!element) {\n      return;\n    }\n    const observer = new MutationObserver(callbackRef.current);\n    observer.observe(element, options);\n    return () => {\n      if (observer) {\n        observer.disconnect();\n      }\n    };\n  }, [options], target);\n};\nexport default useMutationObserver;","map":{"version":3,"names":["getTargetElement","useDeepCompareEffectWithTarget","useLatest","useMutationObserver","callback","target","options","arguments","length","undefined","callbackRef","element","observer","MutationObserver","current","observe","disconnect"],"sources":["/Users/mac/node_modules/ahooks/es/useMutationObserver/index.js"],"sourcesContent":["import { getTargetElement } from '../utils/domTarget';\nimport useDeepCompareEffectWithTarget from '../utils/useDeepCompareWithTarget';\nimport useLatest from '../useLatest';\nconst useMutationObserver = (callback, target, options = {}) => {\n  const callbackRef = useLatest(callback);\n  useDeepCompareEffectWithTarget(() => {\n    const element = getTargetElement(target);\n    if (!element) {\n      return;\n    }\n    const observer = new MutationObserver(callbackRef.current);\n    observer.observe(element, options);\n    return () => {\n      if (observer) {\n        observer.disconnect();\n      }\n    };\n  }, [options], target);\n};\nexport default useMutationObserver;"],"mappings":"AAAA,SAASA,gBAAgB,QAAQ,oBAAoB;AACrD,OAAOC,8BAA8B,MAAM,mCAAmC;AAC9E,OAAOC,SAAS,MAAM,cAAc;AACpC,MAAMC,mBAAmB,GAAG,SAAAA,CAACC,QAAQ,EAAEC,MAAM,EAAmB;EAAA,IAAjBC,OAAO,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;EACzD,MAAMG,WAAW,GAAGR,SAAS,CAACE,QAAQ,CAAC;EACvCH,8BAA8B,CAAC,MAAM;IACnC,MAAMU,OAAO,GAAGX,gBAAgB,CAACK,MAAM,CAAC;IACxC,IAAI,CAACM,OAAO,EAAE;MACZ;IACF;IACA,MAAMC,QAAQ,GAAG,IAAIC,gBAAgB,CAACH,WAAW,CAACI,OAAO,CAAC;IAC1DF,QAAQ,CAACG,OAAO,CAACJ,OAAO,EAAEL,OAAO,CAAC;IAClC,OAAO,MAAM;MACX,IAAIM,QAAQ,EAAE;QACZA,QAAQ,CAACI,UAAU,EAAE;MACvB;IACF,CAAC;EACH,CAAC,EAAE,CAACV,OAAO,CAAC,EAAED,MAAM,CAAC;AACvB,CAAC;AACD,eAAeF,mBAAmB"},"metadata":{},"sourceType":"module","externalDependencies":[]}