{"ast":null,"code":"import _objectSpread from\"/Users/mac/Documents/store/my-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/mac/Documents/store/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{useSelector,useDispatch}from\"react-redux\";import{setCategoryId}from\"../redux/filterSlice\";import{Categories}from\"../components/Categories\";import{Filters}from\"../components/Filters\";import{ItemBlock}from\"../components/ItemBlock\";import{SearchContext}from\"../App\";// import { setSort } from \"../redux/filterSlice\";\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function Shitrs(){var dispatch=useDispatch;var categoryId=useSelector(function(state){return state.filter.categoryId;});var _React$useContext=React.useContext(SearchContext),searchValue=_React$useContext.searchValue;var _React$useState=React.useState([]),_React$useState2=_slicedToArray(_React$useState,2),items=_React$useState2[0],setItems=_React$useState2[1];// const [categoryId, setCategoryId] = React.useState(0);\nvar _React$useState3=React.useState({name:\"Начать с новинок\",sortProperty:\"date\"}),_React$useState4=_slicedToArray(_React$useState3,2),sortType=_React$useState4[0],setSortType=_React$useState4[1];var onChangeCategory=function onChangeCategory(id){dispatch(setCategoryId(id));};React.useEffect(function(){var sortBy=sortType.sortProperty.replace(\"-\",\"\");var order=sortType.sortProperty.includes(\"-\")?\"asc\":\"desc\";var search=searchValue?\"&search=\".concat(searchValue):\"\";fetch(\"https://63c83bede52516043f4e9cbf.mockapi.io/items?category=\".concat(categoryId,\"&sortBy=\").concat(sortBy,\"&order=\").concat(order).concat(search)).then(function(res){return res.json();}).then(function(arr){setItems(arr);});},[categoryId,sortType,searchValue]);var products=items.filter(function(obj){if(obj.title.toLowerCase().includes(searchValue.toLowerCase())){return true;}return false;}).map(function(obj){return/*#__PURE__*/_jsx(ItemBlock,_objectSpread({},obj),obj.id);});return/*#__PURE__*/_jsxs(\"div\",{className:\"shirts\",children:[/*#__PURE__*/_jsx(Categories,{value:categoryId,onChangeCategory:onChangeCategory}),/*#__PURE__*/_jsx(Filters,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"main\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"name\",children:/*#__PURE__*/_jsx(\"span\",{children:\"\\u0414\\u0416\\u0418\\u041D\\u0421\\u042B\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"description\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u042D\\u0442\\u0438 \\u0434\\u0436\\u0438\\u043D\\u0441\\u044B Muse, \\u0438\\u0437\\u0433\\u043E\\u0442\\u043E\\u0432\\u043B\\u0435\\u043D\\u043D\\u044B\\u0435 \\u0438\\u0441\\u043A\\u043B\\u044E\\u0447\\u0438\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E \\u0432 \\u0418\\u0442\\u0430\\u043B\\u0438\\u0438 \\u0438\\u043B\\u0438 \\u042F\\u043F\\u043E\\u043D\\u0438\\u0438, \\u043C\\u0435\\u043D\\u044F\\u044E\\u0442 \\u043F\\u0440\\u0435\\u0434\\u0441\\u0442\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u043E \\u0434\\u0436\\u0438\\u043D\\u0441\\u0430\\u0445, \",/*#__PURE__*/_jsx(\"br\",{}),\" \\u043F\\u0440\\u0438\\u0434\\u0430\\u0432\\u0430\\u044F \\u0438\\u043C \\u0443\\u0442\\u043E\\u043D\\u0447\\u0435\\u043D\\u043D\\u044B\\u0439 \\u0441\\u043E\\u0432\\u0440\\u0435\\u043C\\u0435\\u043D\\u043D\\u044B\\u0439 \\u0432\\u0438\\u0434.\"]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"content\",children:products})]});}","map":{"version":3,"names":["React","useSelector","useDispatch","setCategoryId","Categories","Filters","ItemBlock","SearchContext","jsx","_jsx","jsxs","_jsxs","Shitrs","dispatch","categoryId","state","filter","_React$useContext","useContext","searchValue","_React$useState","useState","_React$useState2","_slicedToArray","items","setItems","_React$useState3","name","sortProperty","_React$useState4","sortType","setSortType","onChangeCategory","id","useEffect","sortBy","replace","order","includes","search","concat","fetch","then","res","json","arr","products","obj","title","toLowerCase","map","_objectSpread","className","children","value"],"sources":["/Users/mac/Documents/store/my-app/src/pages/Shitrs.jsx"],"sourcesContent":["import React from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nimport { setCategoryId } from \"../redux/filterSlice\";\nimport { Categories } from \"../components/Categories\";\nimport { Filters } from \"../components/Filters\";\nimport { ItemBlock } from \"../components/ItemBlock\";\nimport { SearchContext } from \"../App\";\n\n// import { setSort } from \"../redux/filterSlice\";\n\nexport function Shitrs() {\n  const dispatch = useDispatch;\n  const categoryId = useSelector((state) => state.filter.categoryId);\n\n  const { searchValue } = React.useContext(SearchContext);\n  const [items, setItems] = React.useState([]);\n  // const [categoryId, setCategoryId] = React.useState(0);\n  const [sortType, setSortType] = React.useState({\n    name: \"Начать с новинок\",\n    sortProperty: \"date\",\n  });\n\n  const onChangeCategory = (id) => {\n    dispatch(setCategoryId(id));\n  };\n\n  React.useEffect(() => {\n    const sortBy = sortType.sortProperty.replace(\"-\", \"\");\n    const order = sortType.sortProperty.includes(\"-\") ? \"asc\" : \"desc\";\n    const search = searchValue ? `&search=${searchValue}` : \"\";\n\n    fetch(\n      `https://63c83bede52516043f4e9cbf.mockapi.io/items?category=${categoryId}&sortBy=${sortBy}&order=${order}${search}`\n    )\n      .then((res) => res.json())\n      .then((arr) => {\n        setItems(arr);\n      });\n  }, [categoryId, sortType, searchValue]);\n\n  const products = items\n    .filter((obj) => {\n      if (obj.title.toLowerCase().includes(searchValue.toLowerCase())) {\n        return true;\n      }\n\n      return false;\n    })\n    .map((obj) => <ItemBlock key={obj.id} {...obj} />);\n\n  return (\n    <div className=\"shirts\">\n      <Categories value={categoryId} onChangeCategory={onChangeCategory} />\n      <Filters />\n      <div className=\"main\">\n        <div className=\"name\">\n          <span>ДЖИНСЫ</span>\n        </div>\n        <div className=\"description\">\n          <p>\n            Эти джинсы Muse, изготовленные исключительно в Италии или Японии,\n            меняют представление о джинсах, <br /> придавая им утонченный\n            современный вид.\n          </p>\n        </div>\n      </div>\n      <div className=\"content\">{products}</div>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}