{"ast":null,"code":"import useLatest from '../useLatest';\nimport { getTargetElement } from '../utils/domTarget';\nimport getDocumentOrShadow from '../utils/getDocumentOrShadow';\nimport useEffectWithTarget from '../utils/useEffectWithTarget';\nexport default function useClickAway(onClickAway, target) {\n  let eventName = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'click';\n  const onClickAwayRef = useLatest(onClickAway);\n  useEffectWithTarget(() => {\n    const handler = event => {\n      const targets = Array.isArray(target) ? target : [target];\n      if (targets.some(item => {\n        const targetElement = getTargetElement(item);\n        return !targetElement || targetElement.contains(event.target);\n      })) {\n        return;\n      }\n      onClickAwayRef.current(event);\n    };\n    const documentOrShadow = getDocumentOrShadow(target);\n    const eventNames = Array.isArray(eventName) ? eventName : [eventName];\n    eventNames.forEach(event => documentOrShadow.addEventListener(event, handler));\n    return () => {\n      eventNames.forEach(event => documentOrShadow.removeEventListener(event, handler));\n    };\n  }, Array.isArray(eventName) ? eventName : [eventName], target);\n}","map":{"version":3,"names":["useLatest","getTargetElement","getDocumentOrShadow","useEffectWithTarget","useClickAway","onClickAway","target","eventName","arguments","length","undefined","onClickAwayRef","handler","event","targets","Array","isArray","some","item","targetElement","contains","current","documentOrShadow","eventNames","forEach","addEventListener","removeEventListener"],"sources":["/Users/mac/Documents/store/my-app/node_modules/ahooks/es/useClickAway/index.js"],"sourcesContent":["import useLatest from '../useLatest';\nimport { getTargetElement } from '../utils/domTarget';\nimport getDocumentOrShadow from '../utils/getDocumentOrShadow';\nimport useEffectWithTarget from '../utils/useEffectWithTarget';\nexport default function useClickAway(onClickAway, target, eventName = 'click') {\n  const onClickAwayRef = useLatest(onClickAway);\n  useEffectWithTarget(() => {\n    const handler = event => {\n      const targets = Array.isArray(target) ? target : [target];\n      if (targets.some(item => {\n        const targetElement = getTargetElement(item);\n        return !targetElement || targetElement.contains(event.target);\n      })) {\n        return;\n      }\n      onClickAwayRef.current(event);\n    };\n    const documentOrShadow = getDocumentOrShadow(target);\n    const eventNames = Array.isArray(eventName) ? eventName : [eventName];\n    eventNames.forEach(event => documentOrShadow.addEventListener(event, handler));\n    return () => {\n      eventNames.forEach(event => documentOrShadow.removeEventListener(event, handler));\n    };\n  }, Array.isArray(eventName) ? eventName : [eventName], target);\n}"],"mappings":"AAAA,OAAOA,SAAS,MAAM,cAAc;AACpC,SAASC,gBAAgB,QAAQ,oBAAoB;AACrD,OAAOC,mBAAmB,MAAM,8BAA8B;AAC9D,OAAOC,mBAAmB,MAAM,8BAA8B;AAC9D,eAAe,SAASC,YAAYA,CAACC,WAAW,EAAEC,MAAM,EAAuB;EAAA,IAArBC,SAAS,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,OAAO;EAC3E,MAAMG,cAAc,GAAGX,SAAS,CAACK,WAAW,CAAC;EAC7CF,mBAAmB,CAAC,MAAM;IACxB,MAAMS,OAAO,GAAGC,KAAK,IAAI;MACvB,MAAMC,OAAO,GAAGC,KAAK,CAACC,OAAO,CAACV,MAAM,CAAC,GAAGA,MAAM,GAAG,CAACA,MAAM,CAAC;MACzD,IAAIQ,OAAO,CAACG,IAAI,CAACC,IAAI,IAAI;QACvB,MAAMC,aAAa,GAAGlB,gBAAgB,CAACiB,IAAI,CAAC;QAC5C,OAAO,CAACC,aAAa,IAAIA,aAAa,CAACC,QAAQ,CAACP,KAAK,CAACP,MAAM,CAAC;MAC/D,CAAC,CAAC,EAAE;QACF;MACF;MACAK,cAAc,CAACU,OAAO,CAACR,KAAK,CAAC;IAC/B,CAAC;IACD,MAAMS,gBAAgB,GAAGpB,mBAAmB,CAACI,MAAM,CAAC;IACpD,MAAMiB,UAAU,GAAGR,KAAK,CAACC,OAAO,CAACT,SAAS,CAAC,GAAGA,SAAS,GAAG,CAACA,SAAS,CAAC;IACrEgB,UAAU,CAACC,OAAO,CAACX,KAAK,IAAIS,gBAAgB,CAACG,gBAAgB,CAACZ,KAAK,EAAED,OAAO,CAAC,CAAC;IAC9E,OAAO,MAAM;MACXW,UAAU,CAACC,OAAO,CAACX,KAAK,IAAIS,gBAAgB,CAACI,mBAAmB,CAACb,KAAK,EAAED,OAAO,CAAC,CAAC;IACnF,CAAC;EACH,CAAC,EAAEG,KAAK,CAACC,OAAO,CAACT,SAAS,CAAC,GAAGA,SAAS,GAAG,CAACA,SAAS,CAAC,EAAED,MAAM,CAAC;AAChE"},"metadata":{},"sourceType":"module","externalDependencies":[]}