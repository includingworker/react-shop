{"ast":null,"code":"import useLatest from '../useLatest';\nimport { getTargetElement } from '../utils/domTarget';\nimport useEffectWithTarget from '../utils/useEffectWithTarget';\nfunction useEventListener(eventName, handler) {\n  let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  const handlerRef = useLatest(handler);\n  useEffectWithTarget(() => {\n    const targetElement = getTargetElement(options.target, window);\n    if (!(targetElement === null || targetElement === void 0 ? void 0 : targetElement.addEventListener)) {\n      return;\n    }\n    const eventListener = event => {\n      return handlerRef.current(event);\n    };\n    targetElement.addEventListener(eventName, eventListener, {\n      capture: options.capture,\n      once: options.once,\n      passive: options.passive\n    });\n    return () => {\n      targetElement.removeEventListener(eventName, eventListener, {\n        capture: options.capture\n      });\n    };\n  }, [eventName, options.capture, options.once, options.passive], options.target);\n}\nexport default useEventListener;","map":{"version":3,"names":["useLatest","getTargetElement","useEffectWithTarget","useEventListener","eventName","handler","options","arguments","length","undefined","handlerRef","targetElement","target","window","addEventListener","eventListener","event","current","capture","once","passive","removeEventListener"],"sources":["/Users/mac/node_modules/ahooks/es/useEventListener/index.js"],"sourcesContent":["import useLatest from '../useLatest';\nimport { getTargetElement } from '../utils/domTarget';\nimport useEffectWithTarget from '../utils/useEffectWithTarget';\nfunction useEventListener(eventName, handler, options = {}) {\n  const handlerRef = useLatest(handler);\n  useEffectWithTarget(() => {\n    const targetElement = getTargetElement(options.target, window);\n    if (!(targetElement === null || targetElement === void 0 ? void 0 : targetElement.addEventListener)) {\n      return;\n    }\n    const eventListener = event => {\n      return handlerRef.current(event);\n    };\n    targetElement.addEventListener(eventName, eventListener, {\n      capture: options.capture,\n      once: options.once,\n      passive: options.passive\n    });\n    return () => {\n      targetElement.removeEventListener(eventName, eventListener, {\n        capture: options.capture\n      });\n    };\n  }, [eventName, options.capture, options.once, options.passive], options.target);\n}\nexport default useEventListener;"],"mappings":"AAAA,OAAOA,SAAS,MAAM,cAAc;AACpC,SAASC,gBAAgB,QAAQ,oBAAoB;AACrD,OAAOC,mBAAmB,MAAM,8BAA8B;AAC9D,SAASC,gBAAgBA,CAACC,SAAS,EAAEC,OAAO,EAAgB;EAAA,IAAdC,OAAO,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;EACxD,MAAMG,UAAU,GAAGV,SAAS,CAACK,OAAO,CAAC;EACrCH,mBAAmB,CAAC,MAAM;IACxB,MAAMS,aAAa,GAAGV,gBAAgB,CAACK,OAAO,CAACM,MAAM,EAAEC,MAAM,CAAC;IAC9D,IAAI,EAAEF,aAAa,KAAK,IAAI,IAAIA,aAAa,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,aAAa,CAACG,gBAAgB,CAAC,EAAE;MACnG;IACF;IACA,MAAMC,aAAa,GAAGC,KAAK,IAAI;MAC7B,OAAON,UAAU,CAACO,OAAO,CAACD,KAAK,CAAC;IAClC,CAAC;IACDL,aAAa,CAACG,gBAAgB,CAACV,SAAS,EAAEW,aAAa,EAAE;MACvDG,OAAO,EAAEZ,OAAO,CAACY,OAAO;MACxBC,IAAI,EAAEb,OAAO,CAACa,IAAI;MAClBC,OAAO,EAAEd,OAAO,CAACc;IACnB,CAAC,CAAC;IACF,OAAO,MAAM;MACXT,aAAa,CAACU,mBAAmB,CAACjB,SAAS,EAAEW,aAAa,EAAE;QAC1DG,OAAO,EAAEZ,OAAO,CAACY;MACnB,CAAC,CAAC;IACJ,CAAC;EACH,CAAC,EAAE,CAACd,SAAS,EAAEE,OAAO,CAACY,OAAO,EAAEZ,OAAO,CAACa,IAAI,EAAEb,OAAO,CAACc,OAAO,CAAC,EAAEd,OAAO,CAACM,MAAM,CAAC;AACjF;AACA,eAAeT,gBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}